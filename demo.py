import glob
from collections import Counter
import os
import unicodedata
from timeit import repeat
from UnicodeTokenizer import  BasicTokenizer as SanBasicTokenizer
from BertTokenization import BasicTokenizer as BertBasicTokenizer


def show(line, tokenizer):
    tokens = tokenizer.tokenize(line)
    print(' '.join(tokens))
    print(len(tokens))


if __name__ == "__main__":

    # ['[', ']', 'viiipays', '-', 'grand', '-', 'blanc', '-', 'eleve', 'ยป', '(', '็ฝ', '้ซ', 'ๅคง', 'ๅค', 'ๅ', ')']
    # a=tokenizer=Langer()
    a = tokenizer = SanBasicTokenizer(do_lower_case=True, never_split=set([
        "[UNK]", "[SEP]", "[PAD]", "[CLS]", "[MASK]"]))
    # b=tokenizer=BasicTokenizer()
    b = tokenizer = BertBasicTokenizer(do_lower_case=True)

    doc0 = """ ๏กฟ'ใใก[เธเธธเธเธเธฐเธเธฑเธเธเธดเธเธตเนเธเนเธเธเธฒเธเนเธกเธทเนเธญเนเธฃเธเธฐเธฑเธตเธดเนเธทเนเนเธถ]โงpays-g[ran]d-blanc-รฉlevรฉ ยป (็ฝ้ซๅคงๅคๅ)'
            โง้ฆๅ8.88่ฎพ็ฝฎ stใart_new_word=True ๅ output=[aรงaรญ]๏ผoutput ๅฐฑๆฏๆ็ป๏กฟ๎ดฐย no such name"
            ็่พๅบเธเธธเธเธเธฐเธเธฑเธเธเธดเธเธตเนเธเนเธเธเธฒเธเนเธกเธทเนเธญเนเธฃเธเธฐํ์น ์์ํด์ผpneumonoultramicroscopicsilicovolcanoconiosis"
            ํ๋๋ฐ ์นด์ดํฐ๊ฐ ์ด๋์ ์์ด์๊๊ญ๊๊๊จ๊ฆ๊ฒ๊๊๊๊๊๊ท๊ถ๊ูุฃุญูุงุก ุชูุงุฑูู ุชุชุทูุจ ูู [MASK] [PAD] [CLS][SEP]
            est ๐ด๐นญ๐ถ๐ดฒ๐ง, ou "phiow-bjij-lhjij-lhjij", ce que l'on peut traduire par ยซ pays-grand-blanc-รฉlevรฉ ยป (็ฝ้ซๅคงๅคๅ).
        """
    for i, line in enumerate(doc0.split('\n')):
        if not line.strip():
            continue
        show(line, a)
        show(line, b)

    s = 'เธงเธฃเธฃเธเธเธเธฉเนเนเธเนเธเธเธฑเธเธจเธถเธเธฉเธฒเธเธฑเนเธเธเธตเธเธตเนเธซเธเธถเนเธ เนเธฃเธตเธขเธเธชเธฒเธเธฒเธงเธดเธเธขเธฒเธเธฒเธฃเธเธญเธกเธเธดเธงเนเธเธญเธฃเนเนเธฅเธฐเธชเธฒเธฃเธชเธเนเธเธจเธเธเธฐเธงเธดเธเธขเธฒเธจเธฒเธชเธเธฃเนเธเธฃเธฐเธขเธธเธเธเนเนเธฅเธฐเธงเธดเธจเธงเธเธฃเธฃเธกเธจเธฒเธชเธเธฃเนเธญเธขเธนเนเธเธตเนเธกเธซเธฒเธงเธดเธเธขเธฒเธฅเธฑเธขเธเธญเธเนเธเนเธเธงเธดเธเธขเธฒเนเธเธเธซเธเธญเธเธเธฒเธขเธขเธทเธกเธเธทเธเธเธฃเธฑเธเธขเธฒเธเธฃเธซเนเธญเธเธชเธกเธธเธเนเธญเธเธชเธฒเธฃเธชเธฑเธกเธกเธเธฒเธเธญเธกเธเธดเธงเนเธเธญเธฃเนเธเธฑเธเธเธฒเธเธฃเธฐเธเธดเธฉเธเนเธเธฑเธเธเธฒเธฃเธเธฑเธเธเธฒเนเธเธกเนเธกเธงเธเธดเธเธเธฅเธฒเธซเธดเธงเธงเธงเนเธซเธกเธซเธฅเธฑเธเธชเธนเธเธฃเนเธซเธกเนเธชเธเธชเธเธเธเนเธเน'
    show(s, a)
    t = 'เบชเบปเบกเปเบเบฑเบเบเบฐเปเบเบปเปเบฒเบขเบนเปเบซเบปเบงเบเปเบฃเบปเบกเปเบเบเบเบปเบเบเบณเบเบธเบเบณเบฅเบธเบเบเปเบฒเบเปเบกเบทเบญเบเปเบฅเบฐเบเบฐเบชเบฒเบเบชเบฐเปเบฒเบเบปเบเบเปเบฒเบงเปเบเปเบงเปเบฒเบเบธเบเบชเบตเบญเบฐเบเบธเบเบฐเบขเบฒเปเบเบชเบฐเปเปเบเบฐเบญเบปเบเบเบฑเปเบเปเบเบฑเบเบเบธเบเบเบตเปเบเปเบฒเบเปเบกเบทเบญเบเบเบต เบกเบตเบเบธเบเบเบฒเบเบเบปเบเบชเบณเบเบฑเบเบเบตเปเปเบเบตเบเปเบเปเบเปเบงเบฅเบฒเบเปเปเบกเบฒ เปเบเบฅเบฒเบเบฐเบเบฒเบเบเบญเบเบเบฐเบญเบปเบเบซเบผเบฒเบเบเบปเบ เปเบเบฑเปเบ เบชเบปเบกเปเบเบฑเบเบเบฐเปเบเบปเปเบฒเบเบธเบเบเบปเบเบเบธเบฅเบต, เบเบฐเบเบฒเบเบชเบปเบกเปเบเบฑเบเบเบฐเบเบธเบเบเบฐเบเบญเบเบเปเบฒเบเบธเบฅเบฒเปเบฅเบเบกเบฐเบซเบฒเบฅเบฒเบ เปเบเบฑเบเบเบปเปเบ เปเบเบเบฒเบเบเปเบฒเบเบงเบฑเบเบเบฐเบเบฐเบเบตเบเปเบกเบตเบเบฐเบงเบตเบเบปเบเบชเบณเบเบฑเบ เปเบเบฑเปเบ เปเบเบปเปเบฒเบเปเบฒเบเบณเบกเบฒเบเบดเปเบเบเปเบเบเบฐเปเบเบเบชเบธเบฅเบดเบเบฐเบงเบปเบ เบเบปเบกเบกเบฐเบเบธเบเปเบชเบเบฒเบเบดเบเบฑเบ เบซเบผเบทเปเบเบปเปเบฒเบเปเบฒเบเบธเปเบ เปเบเบดเปเบเปเบเบฑเบเบเบฐเปเบญเบฅเบปเบ เปเบเบฑเบเบเบปเปเบ'
    show(t, a)

""" tokenize result (both basic)
Langer
BERT 

[]
[]
['้ฆ', 'ๅ', '8', '.', '88', '่ฎพ', '็ฝฎ', 'st', 'ใ', 'art', '_', 'new', '_', 'word', '=', 'true', 'ๅ', 'output', '=', '[', 'acai', ']', '๏ผ', 'output', 'ๅฐฑ', 'ๆฏ', 'ๆ', '็ป', 'no', 'such', 'name', '"']
['้ฆ', 'ๅ', '8', '.', '88', '่ฎพ', '็ฝฎ', 'st', 'ใ', 'art', '_', 'new', '_', 'word', '=', 'true', 'ๅ', 'output', '=', '[', 'acai', ']', '๏ผ', 'output', 'ๅฐฑ', 'ๆฏ', 'ๆ', '็ป', 'no', 'such', 'name', '"']
['็', '่พ', 'ๅบ', 'เธ', 'เธเธเธฐเธ', 'เธเธ', 'เธ', 'เนเธ', 'เธเธเธฒเธเนเธก', 'เธญเนเธฃเธเธฐ', 'แแกแธ', 'แแณแผ', 'แแฎ', 'แแฉแจ', 'แแข', 'แแฃ', 'pneumonoultramicroscopicsilicovolcanoconiosis', '"']
['็', '่พ', 'ๅบ', 'เธเธเธเธฐเธเธเธเธเนเธเธเธเธฒเธเนเธกเธญเนเธฃเธเธฐแแกแธแแณแผ', 'แแฎแแฉแจแแขแแฃpneumonoultramicroscopicsilicovolcanoconiosis', '"']
['แแก', 'แแณแซ', 'แแฆ', 'แแก', 'แแฎแซ', 'แแฅ', 'แแก', 'แแฅ', 'แแต', 'แแฆ', 'แแตแป', 'แแฅ', 'แแญ', '๊', '๊ญ', '๊', '๊', '๊จ', '๊ฆ', '๊ฒ', '๊', '๊', '๊', '๊', '๊', '๊ท', '๊ถ', '๊
', 'ูุงุญูุงุก', 'ุชูุงุฑูู', 'ุชุชุทูุจ', 'ูู', '[MASK]', '[PAD]', '[', 'cls', ']', '[', 'sep', ']']
['แแกแแณแซแแฆ', 'แแกแแฎแซแแฅแแก', 'แแฅแแตแแฆ', 'แแตแปแแฅแแญ๊๊ญ๊๊๊จ๊ฆ๊ฒ๊๊๊๊๊๊ท๊ถ๊ูุงุญูุงุก', 'ุชูุงุฑูู', 'ุชุชุทูุจ', 'ูู', '[MASK]', '[PAD]', '[', 'cls', ']', '[', 'sep', ']']
['est', ',', 'ou', '"', 'phiow', '-', 'bjij', '-', 'lhjij', '-', 'lhjij', '"', ',', 'ce', 'que', 'l', "'", 'on', 'peut', 'traduire', 'par', 'ยซ', 'pays', '-', 'grand', '-', 'blanc', '-', 'eleve', 'ยป', '(', '็ฝ', '้ซ', 'ๅคง', 'ๅค', 'ๅ', ')', '.']
['est', '๐ด๐นญ๐ถ๐ดฒ๐ง', ',', 'ou', '"', 'phiow', '-', 'bjij', '-', 'lhjij', '-', 'lhjij', '"', ',', 'ce', 'que', 'l', "'", 'on', 'peut', 'traduire', 'par', 'ยซ', 'pays', '-', 'grand', '-', 'blanc', '-', 'eleve', 'ยป', '(', '็ฝ', '้ซ', 'ๅคง', 'ๅค', 'ๅ', ')', '.']
[]
[]

['เธงเธฃเธฃเธเธเธเธฉเน', 'เนเธเน', 'เธเธเธฑ', 'เธเธจเธถ', 'เธเธฉเธฒเธเธฑเน', 'เธเธเธต', 'เธเธตเน', 'เธซเธเธถเน', 'เธ', 'เนเธฃเธต', 'เธขเธเธชเธฒเธเธฒเธงเธด', 'เธเธขเธฒเธเธฒเธฃเธเธญเธกเธเธด', 'เธงเนเธเธญเธฃเน', 'เนเธฅเธฐเธชเธฒเธฃเธชเธเนเธเธจเธเธเธฐเธงเธด', 'เธเธขเธฒเธจเธฒเธชเธเธฃเน', 'เธเธฃเธฐเธขเธธ', 'เธเธเน', 'เนเธฅเธฐเธงเธด', 'เธจเธงเธเธฃเธฃเธกเธจเธฒเธชเธเธฃ
เน', 'เธญเธขเธนเน', 'เธเธตเน', 'เธกเธซเธฒเธงเธด', 'เธเธขเธฒเธฅเธฑ', 'เธขเธเธญเธเนเธเน', 'เธเธงเธด', 'เธเธขเธฒเนเธเธเธซเธเธญเธเธเธฒเธขเธขเธท', 'เธกเธเธท', 'เธเธเธฃเธฑ', 'เธเธขเธฒเธเธฃเธซเน', 'เธญเธเธชเธกเธธ', 'เธเนเธญเธเธชเธฒเธฃเธชเธฑ', 'เธกเธกเธเธฒเธเธญเธกเธเธด', 'เธงเนเธเธญเธฃเน', 'เธเธฑ', 'เธเธเธฒเธเธฃเธฐเธเธด', 'เธฉเธเน', 'เธเธฑ', 'เธเธเธฒเธฃเธเธฑ',
 'เธเธเธฒเนเธเธกเนเธกเธงเธเธด', 'เธเธเธฅเธฒเธซเธด', 'เธงเธงเธงเนเธซเธกเธซเธฅเธฑ', 'เธเธชเธน', 'เธเธฃเนเธซเธกเน', 'เธชเธเธชเธเธเธเนเธเน']
['เบชเบป', 'เบกเปเบเบฑ', 'เบเบเบฐเปเบเบปเป', 'เบฒเบขเบนเป', 'เบซเบป', 'เบงเบเป', 'เบฃเบป', 'เบกเปเบเบเบเบป', 'เบเบเบณเบเบธ', 'เบเบณเบฅเบธ', 'เบเบเป', 'เบฒเบเปเบกเบท', 'เบญเบเปเบฅเบฐเบเบฐเบชเบฒเบเบชเบฐเปเบฒเบเบป', 'เบเบเป', 'เบฒเบงเปเบเป', 'เบงเป', 'เบฒเบเบธ', 'เบเบชเบต', 'เบญเบฐเบเบธ', 'เบเบฐเบขเบฒเปเบเบชเบฐเปเปเบเบฐเบญเบป', 'เบเบเบฑเป',
 'เบเปเบเบฑ', 'เบเบเบธ', 'เบเบเบตเป', 'เบเป', 'เบฒเบเปเบกเบท', 'เบญเบเบเบต', 'เบกเบต', 'เบเบธ', 'เบเบเบฒเบเบเบป', 'เบเบชเบณเบเบฑ', 'เบเบเบตเป', 'เปเบเบต', 'เบเปเบเปเบเปเบงเบฅเบฒเบเปเป', 'เบกเบฒ', 'เปเบเบฅเบฒเบเบฐเบเบฒเบเบเบญเบเบเบฐเบญเบป', 'เบเบซเบผ', 'เบฒเบเบเบป', 'เบ', 'เปเบเบฑเป', 'เบ', 'เบชเบป', 'เบกเปเบเบฑ', 'เบเบ
เบฐเปเบเบปเป', 'เบฒเบเบธ', 'เบเบเบป', 'เบเบเบธ', 'เบฅเบต', ',', 'เบเบฐเบเบฒเบเบชเบป', 'เบกเปเบเบฑ', 'เบเบเบฐเบเบธ', 'เบเบเบฐเบเบญเบเบเป', 'เบฒเบเบธ', 'เบฅเบฒเปเบฅเบเบกเบฐเบซเบฒเบฅเบฒเบ', 'เปเบเบฑ', 'เบเบเบปเป', 'เบ', 'เปเบเบเบฒเบเบเป', 'เบฒเบเบงเบฑ', 'เบเบเบฐเบเบฐเบเบต', 'เบเป', 'เบกเบต', 'เบเบฐเบงเบต', 'เบเบป', 'เบเบชเบณเบเบฑ
', 'เบ', 'เปเบเบฑเป', 'เบ', 'เปเบเบปเป', 'เบฒเบเป', 'เบฒเบเบณเบกเบฒเบเบด', 'เปเบเบเปเบเบเบฐเปเบเบเบชเบธ', 'เบฅเบด', 'เบเบฐเบงเบป', 'เบ', 'เบเบป', 'เบกเบกเบฐเบเบธ', 'เบเปเบชเบเบฒเบเบด', 'เบเบฑ', 'เบ', 'เบซเบผเบท', 'เปเบเบปเป', 'เบฒเบเป', 'เบฒเบเบธเป', 'เบ', 'เปเบเบดเป', 'เบเปเบเบฑ', 'เบเบเบฐเปเบญเบฅเบป', 'เบ',
 'เปเบเบฑ', 'เบเบเบปเป', 'เบ']

๏กฟ ' ใ ใก [ เธ เธเธเธฐเธ เธเธ เธ เนเธ เธเธเธฒเธเนเธก เธญเนเธฃเธเธฐ ] โท pays - g [ ran ] d - blanc - eleve ยป ( ็ฝ ้ซ ๅคง ๅค ๅ ) '
34
' ใใก [ เธเธเธเธฐเธเธเธเธเนเธเธเธเธฒเธเนเธกเธญเนเธฃเธเธฐ ] โทpays - g [ ran ] d - blanc - eleve ยป ( ็ฝ ้ซ ๅคง ๅค ๅ ) '
25
โท ้ฆ ๅ 8 . 88 ่ฎพ ็ฝฎ st ใ art _ new _ word = true ๅ output = [ acai ] ๏ผ output ๅฐฑ ๆฏ ๆ ็ป ๏กฟ ๎ดฐ  no such name "
36
โท ้ฆ ๅ 8 . 88 ่ฎพ ็ฝฎ st ใ art _ new _ word = true ๅ output = [ acai ] ๏ผ output ๅฐฑ ๆฏ ๆ ็ป no such name "
33
็ ่พ ๅบ เธ เธเธเธฐเธ เธเธ เธ เนเธ เธเธเธฒเธเนเธก เธญเนเธฃเธเธฐ แแกแธ แแณแผ แแฎ แแฉแจ แแข แแฃ pneumonoultramicroscopicsilico volcanoconiosis "
19
็ ่พ ๅบ เธเธเธเธฐเธเธเธเธเนเธเธเธเธฒเธเนเธกเธญเนเธฃเธเธฐแแกแธแแณแผ แแฎแแฉแจแแขแแฃpneumonoultramicroscopicsilicovolcanoconiosis "
6
แแก แแณแซ แแฆ แแก แแฎแซ แแฅ แแก แแฅ แแต แแฆ แแตแป แแฅ แแญ ๊ ๊ญ ๊ ๊ ๊จ ๊ฆ ๊ฒ ๊ ๊ ๊ ๊ ๊ ๊ท ๊ถ ๊ ูุงุญูุงุก ุชูุงุฑูู ุชุชุทูุจ ูู [MASK] [PAD] [ cls ] [ sep ]
40
แแกแแณแซแแฆ แแกแแฎแซแแฅแแก แแฅแแตแแฆ แแตแปแแฅแแญ๊๊ญ๊๊๊จ๊ฆ๊ฒ๊๊๊๊๊๊ท๊ถ๊ูุงุญูุงุก ุชูุงุฑูู ุชุชุทูุจ ูู [MASK] [PAD] [ cls ] [ sep ]
15
est ๐ด ๐นญ ๐ถ ๐ดฒ ๐ง , ou " phiow - bjij - lhjij - lhjij " , ce que l ' on peut traduire par ยซ pays - grand - blanc - eleve ยป ( ็ฝ ้ซ ๅคง ๅค ๅ ) .
43
est ๐ด๐นญ๐ถ๐ดฒ๐ง , ou " phiow - bjij - lhjij - lhjij " , ce que l ' on peut traduire par ยซ pays - grand - blanc - eleve ยป ( ็ฝ ้ซ ๅคง ๅค ๅ ) .
39
เธงเธฃเธฃเธเธเธเธฉ เนเธ เธเธ เธเธจ เธเธฉเธฒเธ เธเธ เธ เธซเธ เธ เนเธฃ เธขเธเธชเธฒเธเธฒเธง เธเธขเธฒเธเธฒเธฃเธเธญเธกเธ เธงเนเธเธญเธฃ เนเธฅเธฐเธชเธฒเธฃเธชเธเนเธเธจเธเธเธฐเธง เธเธขเธฒเธจเธฒเธชเธเธฃ เธเธฃเธฐเธข เธเธ เนเธฅเธฐเธง เธจเธงเธเธฃเธฃเธกเธจเธฒเธชเธเธฃ เธญเธข เธ เธกเธซเธฒเธง เธเธขเธฒเธฅ เธขเธเธญเธเนเธ เธเธง เธเธขเธฒเนเธเธเธซเธเธญเธเธเธฒเธขเธข เธกเธ เธเธเธฃ เธเธขเธฒเธเธฃเธซ เธญเธเธชเธก เธเนเธญเธเธชเธฒเธฃเธช เธกเธกเธเธฒเธเธญเธกเธ เธงเนเธเธญเธฃ เธ เธเธเธฒเธเธฃเธฐเธ เธฉเธ เธ เธเธเธฒเธฃเธ เธเธเธฒเนเธเธกเนเธกเธงเธ เธเธเธฅเธฒเธซ เธงเธงเธงเนเธซเธกเธซเธฅ เธเธช เธเธฃเนเธซเธก เธชเธเธชเธเธเธเนเธ
44
เบช เบกเปเบ เบเบเบฐเปเบ เบฒเบข เบซ เบงเบ เบฃ เบกเปเบเบเบ เบเบเบณเบ เบเบณเบฅ เบเบ เบฒเบเปเบก เบญเบเปเบฅเบฐเบเบฐเบชเบฒเบเบชเบฐเปเบฒเบ เบเบ เบฒเบงเปเบ เบง เบฒเบ เบเบช เบญเบฐเบ เบเบฐเบขเบฒเปเบเบชเบฐเปเปเบเบฐเบญ เบเบ เบเปเบ เบเบ เบเบ เบ เบฒเบเปเบก เบญเบเบ เบก เบ เบเบเบฒเบเบ เบเบชเบณเบ เบเบ เปเบ เบเปเบเปเบเปเบงเบฅเบฒเบ เบกเบฒ เปเบเบฅเบฒเบเบฐเบเบฒเบเบเบญเบเบเบฐเบญ เบเบซ เบฒเบเบ เบ เปเบ เบ เบช เบกเปเบ เบเบเบฐเปเบ เบฒเบ เบเบ เบเบ เบฅ , เบเบฐเบเบฒเบเบช เบกเปเบ เบเบเบฐเบ เบเบเบฐเบเบญเบเบ เบฒเบ เบฅเบฒเปเบฅเบเบกเบฐเบซเบฒเบฅเบฒเบ เปเบ เบเบ เบ เปเบเบเบฒเบเบ เบฒเบเบง เบเบเบฐเบเบฐเบ เบ เบก เบเบฐเบง เบ เบเบชเบณเบ เบ เปเบ เบ เปเบ เบฒเบ เบฒเบเบณเบกเบฒเบ เปเบเบเปเบเบเบฐเปเบเบเบช เบฅ เบเบฐเบง เบ เบ เบกเบกเบฐเบ เบเปเบชเบเบฒเบ เบ เบ เบซ เปเบ เบฒเบ เบฒเบ เบ เปเบ เบเปเบ เบเบเบฐเปเบญเบฅ เบ เปเบ เบเบ เบ
93

"""
